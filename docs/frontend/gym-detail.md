# Gym 詳細ページ実装メモ

## 画面構成

- **ヒーロー領域**: ジム名称、所在地、代表画像（画像がない場合はプレースホルダー）。
- **基本情報カード**: 営業時間、電話番号、説明文など取得済みのメタ情報を表示。
- **設備セクション**: 代表的な設備タグを一覧表示（情報が未取得の場合はプレースメッセージ）。
- **外部リンク**: 公式サイトが登録済みならボタンで新規タブを開く。
- **補助 UI**: 初回ロード時はスケルトン、失敗時はエラーメッセージと再試行ボタンを提示。

## お気に入り土台

- 状態管理は `@/store/favoritesStore` に集約。`useFavorites()` でローカル/サーバの状態を購読。
- ゲスト時は `localStorage (GED_FAVORITES)` に保存し、ログイン時はサーバ API (`/me/favorites`) と
  マージしてスナップショットを保存。
- トグル操作は楽観更新で即時反映し、API 失敗時はロールバック＆トースト通知。
- UI では `aria-pressed` 対応のボタンと `aria-live` ラベルで更新状況を通知。
- ログイン完了後は AuthProvider 側でお気に入りと閲覧履歴の同期が自動実行される。

## 既知の制限

- 詳細 API のスキーマに依存するため未提供フィールドは表示されない（レスポンス拡張時に追従要）。
