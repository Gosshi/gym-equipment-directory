# Gym 詳細ページ実装メモ

## 画面構成
- **ヒーロー領域**: ジム名称、所在地、代表画像（画像がない場合はプレースホルダー）。
- **基本情報カード**: 営業時間、電話番号、説明文など取得済みのメタ情報を表示。
- **設備セクション**: 代表的な設備タグを一覧表示（情報が未取得の場合はプレースメッセージ）。
- **外部リンク**: 公式サイトが登録済みならボタンで新規タブを開く。
- **補助 UI**: 初回ロード時はスケルトン、失敗時はエラーメッセージと再試行ボタンを提示。

## お気に入り土台
- 状態管理は `@/store/favorites` に集約。`useFavoriteGyms` でローカル状態を購読。
- お気に入り ID は `localStorage.favoriteGymIds` に保存し、画面マウント時に自動同期。
- トグル操作では API (`POST/DELETE /me/favorites/{gym_id}`) を呼び出し、成功時のみローカル更新。
- UI では `aria-pressed` 対応のボタンと `aria-live` ラベルで更新状況を通知。
- 将来の認証導入時は `useFavoriteGyms` とサービス層を書き換えるだけで同期方式を置換可能。

## 既知の制限
- 認証未実装のため、ユーザー別のお気に入りはローカル保存に限定。
- API 失敗時はローカル状態をロールバックせず、再試行をユーザーに委ねる（楽観更新未対応）。
- 詳細 API のスキーマに依存するため未提供フィールドは表示されない（レスポンス拡張時に追従要）。
