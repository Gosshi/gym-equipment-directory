# バックログ台帳

Issue テンプレ整備と合わせ、当面の改善項目を優先度別に整理する。GitHub Issue を起票できない環境では本ファイルを正として運用する。

## 一覧

| 優先度 | カテゴリ | タイトル                                    | 概要                                                                        | 担当   | 参考ドキュメント                          |
| ------ | -------- | ------------------------------------------- | --------------------------------------------------------------------------- | ------ | ----------------------------------------- |
| P0     | test     | URL 履歴とページネーションの回帰監視        | ブラウザ履歴と Zustand 同期のチェックリストを整備し、リリース前に確認する。 | 未割当 | [testing-strategy](./testing-strategy.md) |
| P0     | ux       | 近隣マップのズーム・ドラッグ回帰監視        | 自動パン抑止とフォーカス制御の確認観点を更新する。                          | 未割当 | [roadmap-next](./roadmap-next.md)         |
| P1     | ux       | クラスタ閾値と展開ズームの調整計画          | MapLibre 設定値の比較とユーザーフィードバック整理。                         | 未割当 | [roadmap-next](./roadmap-next.md)         |
| P1     | a11y     | 詳細パネルのモーション / フォーカス管理改善 | フォーカス遷移、スクリーンリーダー文言、モーション制御を定義する。          | 未割当 | [accessibility](./accessibility.md)       |
| P2     | test     | 履歴 × ページング統合テスト方針の具体化     | 単体/統合テストのケース分解とモック戦略を決定する。                         | 未割当 | [testing-strategy](./testing-strategy.md) |
| P2     | perf     | 手動バンドル分析の手順策定                  | `analyze:bundle` スクリプト運用と結果共有のルールをまとめる。               | 未割当 | [performance](./performance.md)           |
| P3     | docs     | アーキ図 / 戦略系ドキュメントの継続更新     | FE/BE 図やガイドの更新フローを整備する。                                    | 未割当 | [architecture](./architecture.md)         |
| P3     | roadmap  | ジオコーディング / i18n / 観測基盤の調査    | 導入候補と次アクションの整理。                                              | 未割当 | [roadmap-next](./roadmap-next.md)         |

## 各項目の受け入れ条件

### URL 履歴とページネーションの回帰監視（P0/test）

- 手動チェックリストが docs/testing-strategy.md に追記されている。
- QA 実施者が確認結果を記録できるテンプレート（Notion など）が共有されている。
- リリース前レビューでチェック済みを確認するフローが PR テンプレに含まれる。

### 近隣マップのズーム・ドラッグ回帰監視（P0/ux）

- MapLibre のズーム/ドラッグ操作手順がドキュメント化されている。
- 自動パン抑止の確認項目が QA チェックリストに追加されている。
- 回帰が検出された際のバグ報告テンプレート運用が整備されている。

### クラスタ閾値と展開ズームの調整計画（P1/ux）

- 候補設定値とユーザー観察結果の比較表が作成されている。
- 次スプリントで検証するタスクが Issue 化されている。
- 設定変更時のリスクとロールバック方針が文書化されている。

### 詳細パネルのモーション / フォーカス管理改善（P1/a11y）

- フォーカストラップと戻り先の仕様が決定されている。
- `prefers-reduced-motion` 時の動作仕様が定義されている。
- UI 変更が既存の QA ケースに追加されている。

### 履歴 × ページング統合テスト方針の具体化（P2/test）

- 単体/統合テストで担保すべきケースの一覧が作成されている。
- テスト実装で利用するモック戦略が合意されている。
- 追加テストが CI 時間に与える影響評価が完了している。

### 手動バンドル分析の手順策定（P2/perf）

- `analyze:bundle` スクリプトの運用手順が確定している。
  - 実装は別 PR で行う。
- 記録フォーマットと保管場所が決まっている。
- バンドルサイズのしきい値とアラートルールが定義されている。

### アーキ図 / 戦略系ドキュメントの継続更新（P3/docs）

- 更新フロー（担当者・頻度）が決まっている。
- 変更履歴を PR と連携する手順が定義されている。
- 必要に応じて mermaid 図のテンプレが共有されている。

### ジオコーディング / i18n / 観測基盤の調査（P3/roadmap）

- 各候補の比較表が作成されている。
- 導入時の技術的課題と依存関係が整理されている。
- 次ステップ（PoC / サンプル実装）の担当とスケジュールが暫定決定している。

## ラベル運用

- `.github/labels.json` に定義したラベルを利用する。
- ラベル新設時は docs/backlog.md を更新し、参照先ドキュメントを追記する。

## 参考

- [短期ロードマップ](./roadmap-next.md)
- [テスト戦略](./testing-strategy.md)
- [アクセシビリティ指針](./accessibility.md)
- [パフォーマンス方針](./performance.md)
- [FE10 改善計画の進捗サマリー](./fe10-progress.md)
