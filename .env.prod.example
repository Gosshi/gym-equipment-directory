# 本番 / Render 向けに `.env.prod` を用意する際のテンプレート。
COMPOSE_ENV_FILE=.env.prod

# 本番時のアプリ実行設定。
APP_ENV=prod
APP_PORT=8080
LOG_LEVEL=INFO
ALLOW_ORIGINS=https://your-frontend.example.com
RATE_LIMIT_ENABLED=1

# API / 管理用トークンなどのシークレット。
ADMIN_UI_TOKEN=replace-with-strong-token
OPENCAGE_API_KEY=replace-with-opencage-key

# 監視・トレーシング設定。
SENTRY_DSN=
SENTRY_TRACES_RATE=0.1
RELEASE=render-${RENDER_GIT_COMMIT:-local}

# FastAPI / Alembic が利用する本番 PostgreSQL の DSN。
DATABASE_URL=postgresql+asyncpg://appuser:securepass@db:5432/gym_directory

# docker compose で DB コンテナを立てる場合の初期値。
POSTGRES_DB=gym_directory
POSTGRES_USER=appuser
POSTGRES_PASSWORD=securepass
POSTGRES_PORT=5432

# 検索スコア計算の重み。
SCORE_W_FRESH=0.6
SCORE_W_RICH=0.4
FRESHNESS_WINDOW_DAYS=365

# Alembic 起動リトライの調整用。
ALEMBIC_STARTUP_MAX_ATTEMPTS=30
ALEMBIC_STARTUP_RETRY_SECONDS=5
ALEMBIC_EXIT_ON_FAILURE=1

# Next.js ビルド時に利用する公開 env。
NEXT_PUBLIC_API_BASE_URL=https://api.your-frontend.example.com
NEXT_PUBLIC_AUTH_MODE=stub
# NEXT_PUBLIC_OAUTH_PROVIDER=
# NEXT_PUBLIC_OAUTH_CLIENT_ID=
# NEXT_PUBLIC_OAUTH_REDIRECT_URI=

# （任意）CI 用 Postgres サービスの接続情報。
TEST_POSTGRES_DB=gym_test
TEST_POSTGRES_USER=postgres
TEST_POSTGRES_PASSWORD=pass
TEST_DATABASE_URL=postgresql+asyncpg://postgres:pass@pg:5432/gym_test
