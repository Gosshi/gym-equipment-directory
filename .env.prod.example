# Copy this file to .env.prod and fill each value for production / Render deployments.
COMPOSE_ENV_FILE=.env.prod

# Application runtime.
APP_ENV=prod
APP_PORT=8080
LOG_LEVEL=INFO
ALLOW_ORIGINS=https://your-frontend.example.com
RATE_LIMIT_ENABLED=1

# Secrets for API and admin tools.
ADMIN_UI_TOKEN=replace-with-strong-token
OPENCAGE_API_KEY=replace-with-opencage-key

# Observability.
SENTRY_DSN=
SENTRY_TRACES_RATE=0.1
RELEASE=render-${RENDER_GIT_COMMIT:-local}

# External PostgreSQL connection consumed by FastAPI/Alembic.
DATABASE_URL=postgresql+asyncpg://appuser:securepass@db:5432/gym_directory

# PostgreSQL container defaults when running docker compose locally.
POSTGRES_DB=gym_directory
POSTGRES_USER=appuser
POSTGRES_PASSWORD=securepass
POSTGRES_PORT=5432

# Search scoring parameters.
SCORE_W_FRESH=0.6
SCORE_W_RICH=0.4
FRESHNESS_WINDOW_DAYS=365

# Alembic startup guard (tweak when DB boot is slow).
ALEMBIC_STARTUP_MAX_ATTEMPTS=30
ALEMBIC_STARTUP_RETRY_SECONDS=5
ALEMBIC_EXIT_ON_FAILURE=1

# Frontend environment variables used when building Next.js.
NEXT_PUBLIC_API_BASE_URL=https://api.your-frontend.example.com
NEXT_PUBLIC_AUTH_MODE=stub
# NEXT_PUBLIC_OAUTH_PROVIDER=
# NEXT_PUBLIC_OAUTH_CLIENT_ID=
# NEXT_PUBLIC_OAUTH_REDIRECT_URI=

# Optional: dedicated test database for CI-only postgres service.
TEST_POSTGRES_DB=gym_test
TEST_POSTGRES_USER=postgres
TEST_POSTGRES_PASSWORD=pass
TEST_DATABASE_URL=postgresql+asyncpg://postgres:pass@pg:5432/gym_test
