<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 13.1.2 (20250808.2320)
 -->
<!-- Title: Gym Preview AWS Architecture Pages: 1 -->
<svg width="980pt" height="889pt"
 viewBox="0.00 0.00 980.00 889.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(36 852.95)">
<title>Gym Preview AWS Architecture</title>
<polygon fill="white" stroke="none" points="-36,36 -36,-852.95 943.65,-852.95 943.65,36 -36,36"/>
<text xml:space="preserve" text-anchor="middle" x="453.82" y="-5.5" font-family="Sans-Serif" font-size="15.00" fill="#2d3436">Gym Preview AWS Architecture</text>
<g id="clust1" class="cluster">
<title>cluster_VPC</title>
<path fill="#e5f5fd" stroke="#aeb6be" d="M282.77,-182.55C282.77,-182.55 887.65,-182.55 887.65,-182.55 893.65,-182.55 899.65,-188.55 899.65,-194.55 899.65,-194.55 899.65,-560.55 899.65,-560.55 899.65,-566.55 893.65,-572.55 887.65,-572.55 887.65,-572.55 282.78,-572.55 282.78,-572.55 276.77,-572.55 270.77,-566.55 270.77,-560.55 270.77,-560.55 270.77,-194.55 270.77,-194.55 270.77,-188.55 276.77,-182.55 282.77,-182.55"/>
<text xml:space="preserve" text-anchor="middle" x="291.52" y="-557.15" font-family="Sans-Serif" font-size="12.00" fill="#2d3436">VPC</text>
</g>
<g id="clust2" class="cluster">
<title>cluster_Public Subnet (subnet&#45;xxxx)</title>
<path fill="#ebf3e7" stroke="#aeb6be" d="M580.3,-190.55C580.3,-190.55 879.65,-190.55 879.65,-190.55 885.65,-190.55 891.65,-196.55 891.65,-202.55 891.65,-202.55 891.65,-381.55 891.65,-381.55 891.65,-387.55 885.65,-393.55 879.65,-393.55 879.65,-393.55 580.3,-393.55 580.3,-393.55 574.3,-393.55 568.3,-387.55 568.3,-381.55 568.3,-381.55 568.3,-202.55 568.3,-202.55 568.3,-196.55 574.3,-190.55 580.3,-190.55"/>
<text xml:space="preserve" text-anchor="middle" x="650.92" y="-378.15" font-family="Sans-Serif" font-size="12.00" fill="#2d3436">Public Subnet (subnet&#45;xxxx)</text>
</g>
<!-- 77e979e0e2104290acfd141bc8dee78d -->
<g id="node1" class="node">
<title>77e979e0e2104290acfd141bc8dee78d</title>
<image xlink:href="/Users/gota/Documents/src/gym-equipment-directory/infra/diagrams/.venv/lib/python3.9/site-packages/resources/onprem/client/client.png" width="100.8px" height="100.8px" preserveAspectRatio="xMinYMin meet" x="-1.42109e-14" y="-798.95"/>
<text xml:space="preserve" text-anchor="middle" x="50.4" y="-681.5" font-family="Sans-Serif" font-size="12.00" fill="#2d3436">Developer Mac</text>
</g>
<!-- 22ef4e9d764b4f57a9f1b4c57cbcf90e -->
<g id="node2" class="node">
<title>22ef4e9d764b4f57a9f1b4c57cbcf90e</title>
<image xlink:href="/Users/gota/Documents/src/gym-equipment-directory/infra/diagrams/.venv/lib/python3.9/site-packages/resources/aws/management/systems-manager.png" width="100.8px" height="100.8px" preserveAspectRatio="xMinYMin meet" x="278.775" y="-713.95"/>
<text xml:space="preserve" text-anchor="middle" x="329.17" y="-594.85" font-family="Sans-Serif" font-size="12.00" fill="#2d3436">AWS Systems Manager</text>
<text xml:space="preserve" text-anchor="middle" x="329.17" y="-582.1" font-family="Sans-Serif" font-size="12.00" fill="#2d3436">(Port Forwarding)</text>
</g>
<!-- 77e979e0e2104290acfd141bc8dee78d&#45;&gt;22ef4e9d764b4f57a9f1b4c57cbcf90e -->
<g id="edge3" class="edge">
<title>77e979e0e2104290acfd141bc8dee78d&#45;&gt;22ef4e9d764b4f57a9f1b4c57cbcf90e</title>
<path fill="none" stroke="royalblue" d="M100.56,-733.45C147.35,-719.08 217.87,-697.43 268,-682.03"/>
<polygon fill="royalblue" stroke="royalblue" points="269.03,-685.38 277.56,-679.09 266.97,-678.69 269.03,-685.38"/>
<text xml:space="preserve" text-anchor="middle" x="183.3" y="-724.58" font-family="Sans-Serif" font-size="13.00" fill="#2d3436">127.0.0.1:8000</text>
</g>
<!-- f3ccb49662234daca400a7f90c72d0c2 -->
<g id="node5" class="node">
<title>f3ccb49662234daca400a7f90c72d0c2</title>
<image xlink:href="/Users/gota/Documents/src/gym-equipment-directory/infra/diagrams/.venv/lib/python3.9/site-packages/resources/aws/network/internet-gateway.png" width="100.8px" height="100.8px" preserveAspectRatio="xMinYMin meet" x="576.3" y="-525.95"/>
<text xml:space="preserve" text-anchor="middle" x="626.7" y="-408.5" font-family="Sans-Serif" font-size="12.00" fill="#2d3436">Internet Gateway</text>
</g>
<!-- 77e979e0e2104290acfd141bc8dee78d&#45;&gt;f3ccb49662234daca400a7f90c72d0c2 -->
<g id="edge8" class="edge">
<title>77e979e0e2104290acfd141bc8dee78d&#45;&gt;f3ccb49662234daca400a7f90c72d0c2</title>
<path fill="none" stroke="#737373" stroke-dasharray="1,5" d="M100.68,-761.72C168.17,-777.43 292.38,-798 392.55,-767.55 472.78,-743.16 496.3,-727.53 549.3,-662.55 574.81,-631.27 592.83,-590.32 604.93,-554.72"/>
<polygon fill="#737373" stroke="#737373" points="608.23,-555.89 608.03,-545.29 601.58,-553.7 608.23,-555.89"/>
<text xml:space="preserve" text-anchor="middle" x="329.17" y="-800.88" font-family="Sans-Serif" font-size="13.00" fill="#2d3436">Publicアクセス</text>
<text xml:space="preserve" text-anchor="middle" x="329.17" y="-785.88" font-family="Sans-Serif" font-size="13.00" fill="#2d3436">(SSM運用では未使用)</text>
</g>
<!-- b8da1790eef944ba9b905eb517b134c3 -->
<g id="node7" class="node">
<title>b8da1790eef944ba9b905eb517b134c3</title>
<image xlink:href="/Users/gota/Documents/src/gym-equipment-directory/infra/diagrams/.venv/lib/python3.9/site-packages/resources/aws/compute/ec2.png" width="100.8px" height="100.8px" preserveAspectRatio="xMinYMin meet" x="576.3" y="-331.95"/>
<text xml:space="preserve" text-anchor="middle" x="626.7" y="-212.85" font-family="Sans-Serif" font-size="12.00" fill="#2d3436">EC2 (PR Preview)</text>
<text xml:space="preserve" text-anchor="middle" x="626.7" y="-200.1" font-family="Sans-Serif" font-size="12.00" fill="#2d3436">API EC2 (api&#45;sg)</text>
</g>
<!-- 22ef4e9d764b4f57a9f1b4c57cbcf90e&#45;&gt;b8da1790eef944ba9b905eb517b134c3 -->
<g id="edge4" class="edge">
<title>22ef4e9d764b4f57a9f1b4c57cbcf90e&#45;&gt;b8da1790eef944ba9b905eb517b134c3</title>
<path fill="none" stroke="royalblue" d="M379.39,-652.71C430.91,-638.59 509.7,-608.51 549.3,-550.55 572.24,-516.97 554.6,-406.84 568.3,-368.55 569.32,-365.69 570.46,-362.84 571.68,-360"/>
<polygon fill="royalblue" stroke="royalblue" points="574.75,-361.69 575.86,-351.15 568.42,-358.7 574.75,-361.69"/>
<text xml:space="preserve" text-anchor="middle" x="484.42" y="-640.04" font-family="Sans-Serif" font-size="13.00" fill="#2d3436">Port Forwarding</text>
</g>
<!-- cad3f44e23414097a36e499f722c409c -->
<g id="node3" class="node">
<title>cad3f44e23414097a36e499f722c409c</title>
<image xlink:href="/Users/gota/Documents/src/gym-equipment-directory/infra/diagrams/.venv/lib/python3.9/site-packages/resources/onprem/ci/github-actions.png" width="100.8px" height="100.8px" preserveAspectRatio="xMinYMin meet" x="-2.84217e-14" y="-156.95"/>
<text xml:space="preserve" text-anchor="middle" x="50.4" y="-37.85" font-family="Sans-Serif" font-size="12.00" fill="#2d3436">GitHub Actions</text>
<text xml:space="preserve" text-anchor="middle" x="50.4" y="-25.1" font-family="Sans-Serif" font-size="12.00" fill="#2d3436">PR Workflow</text>
</g>
<!-- 6ec82f19a1d4400586618e8a05624fc5 -->
<g id="node4" class="node">
<title>6ec82f19a1d4400586618e8a05624fc5</title>
<image xlink:href="/Users/gota/Documents/src/gym-equipment-directory/infra/diagrams/.venv/lib/python3.9/site-packages/resources/aws/security/identity-and-access-management-iam-role.png" width="100.8px" height="100.8px" preserveAspectRatio="xMinYMin meet" x="278.775" y="-156.95"/>
<text xml:space="preserve" text-anchor="middle" x="329.17" y="-39.5" font-family="Sans-Serif" font-size="12.00" fill="#2d3436">IAM Role (OIDC)</text>
</g>
<!-- cad3f44e23414097a36e499f722c409c&#45;&gt;6ec82f19a1d4400586618e8a05624fc5 -->
<g id="edge1" class="edge">
<title>cad3f44e23414097a36e499f722c409c&#45;&gt;6ec82f19a1d4400586618e8a05624fc5</title>
<path fill="none" stroke="darkgreen" d="M100.56,-106.55C147.26,-106.55 217.57,-106.55 267.68,-106.55"/>
<polygon fill="darkgreen" stroke="darkgreen" points="267.49,-110.05 277.49,-106.55 267.49,-103.05 267.49,-110.05"/>
<text xml:space="preserve" text-anchor="middle" x="183.3" y="-107.7" font-family="Sans-Serif" font-size="13.00" fill="#2d3436">OIDC AssumeRole</text>
</g>
<!-- 6ec82f19a1d4400586618e8a05624fc5&#45;&gt;b8da1790eef944ba9b905eb517b134c3 -->
<g id="edge2" class="edge">
<title>6ec82f19a1d4400586618e8a05624fc5&#45;&gt;b8da1790eef944ba9b905eb517b134c3</title>
<path fill="none" stroke="darkgreen" d="M379.31,-114.32C426.46,-123.67 497.87,-142.98 549.3,-180.05 556.16,-184.99 562.67,-190.73 568.79,-196.91"/>
<polygon fill="darkgreen" stroke="darkgreen" points="565.91,-198.95 575.3,-203.85 571.01,-194.16 565.91,-198.95"/>
<text xml:space="preserve" text-anchor="middle" x="484.42" y="-181.2" font-family="Sans-Serif" font-size="13.00" fill="#2d3436">Provision PR Preview</text>
</g>
<!-- b2c915f879df4c60a028dd82466de723 -->
<g id="node6" class="node">
<title>b2c915f879df4c60a028dd82466de723</title>
<image xlink:href="/Users/gota/Documents/src/gym-equipment-directory/infra/diagrams/.venv/lib/python3.9/site-packages/resources/aws/network/route-table.png" width="100.8px" height="100.8px" preserveAspectRatio="xMinYMin meet" x="278.775" y="-483.95"/>
<text xml:space="preserve" text-anchor="middle" x="329.17" y="-366.5" font-family="Sans-Serif" font-size="12.00" fill="#2d3436">Public Route Table</text>
</g>
<!-- b2c915f879df4c60a028dd82466de723&#45;&gt;f3ccb49662234daca400a7f90c72d0c2 -->
<g id="edge7" class="edge">
<title>b2c915f879df4c60a028dd82466de723&#45;&gt;f3ccb49662234daca400a7f90c72d0c2</title>
<path fill="none" stroke="#737373" stroke-dasharray="1,5" d="M379.31,-440.53C430.33,-447.78 510.24,-459.14 565.13,-466.94"/>
<polygon fill="#737373" stroke="#737373" points="564.56,-470.4 574.95,-468.34 565.54,-463.47 564.56,-470.4"/>
<text xml:space="preserve" text-anchor="middle" x="484.42" y="-465.44" font-family="Sans-Serif" font-size="13.00" fill="#2d3436">0.0.0.0/0</text>
</g>
<!-- b2c915f879df4c60a028dd82466de723&#45;&gt;b8da1790eef944ba9b905eb517b134c3 -->
<g id="edge6" class="edge">
<title>b2c915f879df4c60a028dd82466de723&#45;&gt;b8da1790eef944ba9b905eb517b134c3</title>
<path fill="none" stroke="#737373" stroke-dasharray="1,5" d="M379.31,-408.28C430.76,-381.82 511.57,-340.25 566.51,-311.99"/>
<polygon fill="#737373" stroke="#737373" points="567.81,-315.26 575.1,-307.57 564.61,-309.03 567.81,-315.26"/>
</g>
<!-- b6a6396ebc67479eb478e8a0101c5f7b -->
<g id="node8" class="node">
<title>b6a6396ebc67479eb478e8a0101c5f7b</title>
<image xlink:href="/Users/gota/Documents/src/gym-equipment-directory/infra/diagrams/.venv/lib/python3.9/site-packages/resources/aws/compute/ec2.png" width="100.8px" height="100.8px" preserveAspectRatio="xMinYMin meet" x="782.85" y="-331.95"/>
<text xml:space="preserve" text-anchor="middle" x="833.25" y="-214.5" font-family="Sans-Serif" font-size="12.00" fill="#2d3436">DB EC2 (db&#45;sg)</text>
</g>
<!-- b8da1790eef944ba9b905eb517b134c3&#45;&gt;b6a6396ebc67479eb478e8a0101c5f7b -->
<g id="edge5" class="edge">
<title>b8da1790eef944ba9b905eb517b134c3&#45;&gt;b6a6396ebc67479eb478e8a0101c5f7b</title>
<path fill="none" stroke="firebrick" d="M676.96,-281.55C705.47,-281.55 741.58,-281.55 771.8,-281.55"/>
<polygon fill="firebrick" stroke="firebrick" points="771.55,-285.05 781.55,-281.55 771.55,-278.05 771.55,-285.05"/>
<text xml:space="preserve" text-anchor="middle" x="729.97" y="-282.7" font-family="Sans-Serif" font-size="13.00" fill="#2d3436">tcp/5432</text>
</g>
</g>
</svg>
